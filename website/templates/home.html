{% extends "base.html" %}

{% block title %}CryptoSearch{% endblock %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='home.css') }}">
<br />
<div class="container-fluid">
  <div class="row justify-content-around my-4">
    <div class="col-s-12 col-md-9 col-lg-9 topcol">
      <div class="row">
        <h2 class="text-center text-white"> Top % Movers </h2>
      </div>
      <div class="row">
      
        <div id="carouselExampleCaptions" class="carousel carousel-dark slide" data-bs-ride="carousel">
          <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="3" aria-label="Slide 4"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="4" aria-label="Slide 5"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="5" aria-label="Slide 6"></button>
          </div>

          <div class="carousel-inner bg-dark border border-2 rounded">

            <div class="carousel-item active">
              {{  carousel['top_1h_growth']['graph']  }}
              <div class="carousel-caption cap-top text-white text-start">
                <h3> 1 Hour </h3>
              </div>
              <div class="carousel-caption cap-top text-white text-end">
                <h3> {{ carousel['top_1h_growth']['id'] }}: {{ carousel['top_1h_growth']['current_price'] }} </h3>
              </div>
            </div>

            <div class="carousel-item">
              {{  carousel['top_24h_growth']['graph']  }}
              <div class="carousel-caption cap-top text-white text-start">
                <h3> 24 Hours </h3>
              </div>
              <div class="carousel-caption cap-top text-white text-end">
                <h3> {{  carousel['top_24h_growth']['id']  }}: {{ carousel['top_24h_growth']['current_price'] }} </h3>
              </div>
            </div>

            <div class="carousel-item">
              {{  carousel['top_7d_growth']['graph']  }}
              <div class="carousel-caption cap-top text-white text-start">
                <h3> 7 Day </h3>
              </div>
              <div class="carousel-caption cap-top text-white text-end">
                <h3> {{  carousel['top_7d_growth']['id']  }}: {{ carousel['top_7d_growth']['current_price'] }} </h3>
              </div>
            </div>

            <div class="carousel-item">
              {{  carousel['top_30d_growth']['graph']  }}
              <div class="carousel-caption cap-top text-white text-start">
                <h3> 30 Day </h3>
              </div>
              <div class="carousel-caption cap-top text-white text-end">
                <h3> {{  carousel['top_30d_growth']['id']  }}: {{ carousel['top_30d_growth']['current_price'] }} </h3>
              </div>
            </div>

            <div class="carousel-item">
              {{  carousel['top_200d_growth']['graph']  }}
              <div class="carousel-caption cap-top text-white text-start">
                <h3> 200 Day </h3>
              </div>
              <div class="carousel-caption cap-top text-white text-end">
                <h3> {{  carousel['top_200d_growth']['id']  }}: {{ carousel['top_200d_growth']['current_price'] }} </h3>
              </div>
            </div>

            <div class="carousel-item">
              {{  carousel['top_1y_growth']['graph']  }}
              <div class="carousel-caption cap-top text-white text-start">
                <h3> 1 Year </h3>
              </div>
              <div class="carousel-caption cap-top text-white text-end">
                <h3> {{  carousel['top_1y_growth']['id']  }}: {{ carousel['top_1y_growth']['current_price'] }} </h3>
              </div>
            </div>

          </div>

          <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>

      </div>
    </div>
  </div>
</div>

<br />
<br />

<div class="container-fluid">
  <div class="row justify-content-around">
    <div class="col-s-12 col-md-9 col-lg-9 topcol">
      <span class="text-start text-white"> Top 25 Cryptocurrencies </span>
      <form method='POST' class="d-grid gap-2 d-md-block">
        <button class="btn btn-dark" type="submit" name="table_switch" value="price">Price</button>
        <button class="btn btn-dark" type="submit" name="table_switch" value="change1h">1 Hour</button>
        <button class="btn btn-dark" type="submit" name="table_switch" value="change24h">24 Hour</button>
        <button class="btn btn-dark" type="submit" name="table_switch" value="change7d">7 Day</button>
        <button class="btn btn-dark" type="submit" name="table_switch" value="change30d">30 Day</button>
        <button class="btn btn-dark" type="submit" name="table_switch" value="change200d">200 Day</button>
        <button class="btn btn-dark" type="submit" name="table_switch" value="change1y">1 Year</button>
      </form>
    </div>
  </div>
<div>

<div class="container-fluid">
  <div class="row justify-content-around">

    <div class="col-s-12 col-md-9 col-lg-9 topcol">
      <div class="row">

        <div class="table-responsive border border-2 rounded">
          <table class="table table-dark table-striped">

            <thead >
              <tr>
                <th scope="col">#</th>
                <th scope="col">Name</th>
                <th scope="col">Symbol</th>
                <th scope="col">Price</th>
                <th scope="col">1H</th>
                <th scope="col">24H</th>
                <th scope="col">7D</th>
                <th scope="col">30D</th>
                <th scope="col">200D</th>
                <th scope="col">1Y</th>
              </tr>
            </thead>

            <tbody>
              {% for  i in range(0, table|length)%}
              <tr>
                <th scope="row">{{ i + 1 }}</th>
                <td>  {{ table[i]['coin_id'] }}  </td>
                <td>  {{ table[i]['symbol'] }}  </td>
                <td>  {{ table[i]['price'] }}  </td>
                <td class = "num">  {{ table[i]['change1h'] }}%  </td>
                <td class = "num">  {{ table[i]['change24h'] }}%  </td>
                <td class = "num">  {{ table[i]['change7d'] }}%  </td>
                <td class = "num">  {{ table[i]['change30d'] }}%  </td>
                <td class = "num">  {{ table[i]['change200d'] }}%  </td>
                <td class = "num">  {{ table[i]['change1y'] }}%  </td>
              </tr>
              {% endfor %}
            </tbody>

          </table>
        </div>

      </div>
    </div>
    
  </div>
</div>

{% endblock %}